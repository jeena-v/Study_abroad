{% extends 'study_abroad_app/base.html' %}
{% load static %}
{% block content %} 

<!-- ===================== STYLES ===================== -->
<style>
/* ================= BUTTONS ================= */
.primary-btn {
  background-color: #ff6600 !important;
  color: #fff !important;
  border: none;
}

.primary-btn:hover {
  background-color: #e65500 !important; /* Slightly darker orange on hover */
  color: #fff !important;
}

/* ================= INFO BOXES ================= */
.info-box {
  background: #f9f9f9;
  padding: 28px 35px;
  border-radius: 20px;
  margin-bottom: 30px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  border: 3px solid rgba(255, 102, 0, 0.4); /* Orange border */
  transition: all 0.4s ease;
  position: relative;
  overflow: hidden;
}

.info-box:hover {
  box-shadow: 0 4px 25px rgba(0,0,0,0.08), 0 0 0 4px rgba(255,102,0,0.5);
  transform: translateY(-3px);
}

.info-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: -50%;
  width: 0;
  height: 100%;
  background: rgba(255, 102, 0, 0.1);
  transform: skewX(-25deg);
  transition: all 0.5s ease;
  z-index: 1;
}

.info-box:hover::before {
  width: 200%;
}

.info-box h2,
.info-box h3 {
  color: #002347;
  margin-bottom: 15px;
  position: relative;
  z-index: 2;
  font-size: 22px;
}

.info-box p {
  color: #444;
  font-size: 16px;
  line-height: 1.7;
  position: relative;
  z-index: 2;
}

/* Add subtle icon before each info box title */
.info-box h2::before {
  content: "â˜…";
  margin-right: 10px;
  color: #ff6600;
}

/* ================= COUNSELLING BOX ================= */
.counselling_session_area {
  display: flex;
  justify-content: center;
  margin: 80px auto;
}

.counselling_box {
  background: linear-gradient(90deg, #ff6600, #ff8533);
  padding: 60px 50px;
  border-radius: 30px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 25px;
  width: 100%;
  max-width: 1000px;
  transition: all 0.4s ease;
}

.counselling_box:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 35px rgba(0,0,0,0.1);
}

.counselling_box h2 {
  color: #fff;
  font-size: 26px;
  font-weight: 700;
  margin: 0;
  flex: 1;
  white-space: nowrap;
}

.enquire_btn {
  background: #fff;
  color: #ff6600;
  padding: 10px 25px;
  border-radius: 25px;
  text-decoration: none;
  font-size: 15px;
  font-weight: 600;
  transition: all 0.3s ease;
}

.enquire_btn:hover {
  background: #ffe6cc;
  color: #e65c00;
}

/* Responsive layout for counselling box */
@media (max-width: 600px) {
  .counselling_box {
    flex-direction: column;
    text-align: center;
    padding: 50px 20px;
  }
  .counselling_box h2 {
    white-space: normal;
    margin-bottom: 20px;
  }
}

/* ================= POPUP MODAL ================= */
.modal {
  display: none;
  position: fixed;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.6);
}

.modal_content {
  background: #fff;
  margin: 10% auto;
  padding: 30px;
  border-radius: 12px;
  max-width: 420px;
  text-align: center;
  box-shadow: 0 8px 25px rgba(0,0,0,0.2);
}

.modal_content h3 {
  font-size: 22px;
  margin-bottom: 25px;
  color: #002347;
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}

.close:hover {
  color: #ff6600;
}

/* Form fields inside modal */
.enquire_form input,
.enquire_form textarea {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 15px;
}

.submit_btn {
  background: #ff6600;
  color: #fff;
  padding: 12px 25px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.3s ease;
}

.submit_btn:hover {
  background: #e65c00;
}

/* ================= EXTRA ENHANCEMENTS ================= */
/* Smooth transition for all hover effects */
* {
  transition: all 0.3s ease;
}
</style>

<!-- ================= ABOUT SECTION ================= -->
<section class="about_area section_gap">
  <div class="container">
    <div class="row h_blog_item">
      <!-- Image Column -->
      <div class="col-lg-6">
        <div class="h_blog_img">
          <img class="img-fluid" src="{% static 'img/img9.jpg' %}" alt="About Royal Pearl Study Abroad" />
        </div>
      </div>
      <!-- Text Column -->
      <div class="col-lg-6">
        <div class="h_blog_text">
          <div class="h_blog_text_inner left right">
            <h4>Welcome to Royal Pearl Study Abroad</h4>
            <p>
              As the global education landscape evolved, it became evident that students required more than just basic guidance. 
              Recognizing this growing need, Royal Pearl Study Abroad was established to offer complete, personalized support for every step of the study abroad journey. 
              From course selection to visa processing and beyond, our mission is to ensure students receive expert assistance and care from the moment they dream of studying overseas to the day they reach their destination.
            </p>
            <a class="primary-btn mt-3" href="{% url 'about-details' %}">
              Learn More <i class="ti-arrow-right ml-1"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- Dynamic About Title -->
    <h1 class="text-center mt-3 mb-0">{{ about_data.title }}</h1>
  </div>
</section>

<!-- ================= INFO BOXES SECTION ================= -->
<section class="container section-gap">
  <div class="info-box">
    <h2>About Us</h2>
    <p>{{ about_data.about_content|linebreaks }}</p>
  </div>
  <div class="info-box">
    <h2>Our Mission</h2>
    <p>{{ about_data.mission|linebreaks }}</p>
  </div>
  <div class="info-box">
    <h2>Our Vision</h2>
    <p>{{ about_data.vision|linebreaks }}</p>
  </div>
  <div class="info-box">
    <h2>Why Choose Us</h2>
    <p>{{ about_data.why_choose_us|linebreaks }}</p>
  </div>
</section>

<!-- ================= COUNSELLING BOX ================= -->
<section class="counselling_session_area">
  <div class="counselling_box">
    <h2>Avail A Complementary Counselling Session</h2>
    <a href="#" class="enquire_btn" id="openPopup">Enquire Now</a>
  </div>
</section>

<!-- ================= MODAL POPUP ================= -->
<div id="enquireModal" class="modal">
  <div class="modal_content">
    <span class="close" id="closePopup">&times;</span>
    <h3>Book Your Free Counselling Session</h3>

    <!-- Display success messages -->
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-success">{{ message }}</div>
      {% endfor %}
    {% endif %}

    <!-- Enquiry Form -->
    <form method="POST" action="{% url 'counselling_popup' %}" class="enquire_form">
      {% csrf_token %}
      <input type="text" name="name" placeholder="Your Name" required>
      <input type="email" name="email" placeholder="Your Email" required>
      <input type="text" name="phone" placeholder="Your Phone" required>
      <textarea name="message" placeholder="Your Message" rows="3" required></textarea>
      <button type="submit" class="submit_btn">Submit</button>
    </form>
  </div>
</div>

<!-- ================= MODAL SCRIPT ================= -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  const openBtn = document.getElementById('openPopup');
  const closeBtn = document.getElementById('closePopup');
  const modal = document.getElementById('enquireModal');

  if (openBtn && closeBtn && modal) {
    // Open modal
    openBtn.addEventListener('click', function(e) {
      e.preventDefault();
      modal.style.display = 'block';
    });

    // Close modal
    closeBtn.addEventListener('click', function() {
      modal.style.display = 'none';
    });

    // Close modal when clicking outside
    window.addEventListener('click', function(event) {
      if (event.target == modal) {
        modal.style.display = 'none';
      }
    });
  }
});
</script>

{% endblock %}
