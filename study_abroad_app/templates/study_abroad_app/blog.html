
  {% extends 'study_abroad_app/base.html'%}
  {% load static %}
  {% block content %}
    
  <style>
.blog-card {
  border: 1px solid #ddd;
  padding: 15px;
  border-radius: 8px;
  height: 100%;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  background-color: #fff;
}

.blog-img img {
  width: 100%;
  height: auto;
  border-radius: 5px;
}

.blog-title {
  font-size: 16px;
  font-weight: 600;
}

.read-more {
  color: #ff6600;
  text-decoration: none;
  font-weight: 500;
}

.sidebar-widget h4 {
  font-size: 18px;
  margin-bottom: 15px;
  font-weight: 600;
  border-bottom: 2px solid #ff6600;
  padding-bottom: 5px;
}

.sidebar-widget ul li {
  margin-bottom: 10px;
}

.sidebar-widget ul li a {
  color: #333;
  text-decoration: none;
}

.sidebar-widget ul li a:hover {
  color: #ff6600;
}

.blog-section {
  padding: 40px 0;
  background-color: #f8f8f8;
}
.blog-content > * {
  margin-bottom: 12px; /* space between each direct child */
}

.blog-content > *:last-child {
  margin-bottom: 0; /* no extra space after last element */
}


/* ✅ Complementary Counselling Session Box */
.counselling_session_area {
  display: flex;
  justify-content: center;
  margin: 60px auto;
}

.counselling_box {
  background: #ff6600; /* Orange background */
  padding: 60px 40px;
  border-radius: 25px; /* ✅ Perfect rounded pill shape */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  width: 100%;
  max-width: 1000px; /* ✅ Increase this to make it wider */
}

.counselling_box h2 {
  color: #fff;
  font-size: 25px;
  font-weight: 600;
  margin: 0;
  flex: 1; /* ✅ Ensures text takes space properly */
  white-space: nowrap; /* ✅ Keeps it in one line */
}

.enquire_btn {
  background: #fff;
  color: #ff6600;
  padding: 8px 18px;
  border-radius: 20px;
  text-decoration: none;
  font-size: 14px;
  font-weight: 600;
  transition: all 0.3s ease;
}

.enquire_btn:hover {
  background: #f2f2f2;
  color: #e65c00;
}

/* ✅ Responsive (button below on mobile) */
@media (max-width: 600px) {
  .counselling_box {
    flex-direction: column;
    text-align: center;
    border-radius: 20px;
  }
  .counselling_box h2 {
    white-space: normal;
  }
}

/* ✅ POPUP MODAL STYLES */
.modal {
  display: none;
  position: fixed;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.6);
}

.modal_content {
  background: #fff;
  margin: 8% auto;
  padding: 30px;
  border-radius: 8px;
  max-width: 400px;
  text-align: center;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.modal_content h3 {
  font-size: 20px;
  margin-bottom: 20px;
  color: #002347;
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}

.close:hover {
  color: #ff6600;
}

/* ✅ FORM STYLES */
.enquire_form input,
.enquire_form textarea {
  width: 100%;
  padding: 10px;
  margin-bottom: 15px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 14px;
}

.submit_btn {
  background: #ff6600;
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.3s ease;
}

.submit_btn:hover {
  background: #e65c00;
}



</style>
 <div style="height: 80px;"></div>

<div class="row">
      <div class="col-12 text-center">
        <h3 class="mb-4"></h3>
      </div>
    </div>
<section class="blog-section">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <h3 class="mb-4">Our Blog</h3>
      </div>
    </div>
    <div class="row">
      <!-- Left: Blog Cards -->
      <div class="col-lg-9">
        <div class="row">
          {% for post in posts %}
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="blog-card">
          <div class="blog-img">
            {% if post.image %}
              <img src="{{ post.image.url }}" alt="{{ post.title }}">
            {% else %}
              <img src="{% static 'img/blog/default.jpg' %}" alt="Default Image">
            {% endif %}
          </div>
          <div class="blog-content">
            <div class="blog-meta">
              <span class="author"><i class="fas fa-user-pen"></i> By {{ post.author }}</span><br>
              <span class="date"><i class="fas fa-calendar-alt"></i> {{ post.published_date }}</span>
            </div>
            <h3 class="blog-title">{{ post.title }}</h3>
            <a href="{% url 'blog_detail' post.slug %}" class="read-more">Know More →</a>
          </div>
        </div>
      </div>
      {% endfor %}

          <!-- Add more as needed -->
        </div>
      </div>

      <!-- Right: Sidebar -->
      <div class="col-lg-3">
        <div class="sidebar-widget mb-4">
          <h4>Recent Posts</h4>
           <ul>
      {% for recent in recent_posts %}
      <li>
        <a href="{% url 'blog_detail' recent.slug %}">
          {{ recent.title }}
        </a>
      </li>
      {% empty %}
      <li>No posts found.</li>
      {% endfor %}
    </ul>
        </div>
        
      </div>
    </div>
  </div>
</section>
<section class="counselling_session_area">
  <div class="counselling_box">
    <h2>Avail A Complementary Counselling Session</h2>
    <a href="#" class="enquire_btn" id="openPopup">Enquire Now</a>
  </div>
</section>



<!-- ✅ POPUP MODAL -->
<div id="enquireModal" class="modal">
  <div class="modal_content">
    <span class="close" id="closePopup">&times;</span>
    <h3>Book Your Free Counselling Session</h3>
    {% if messages %}
  {% for message in messages %}
    <div class="alert alert-success">{{ message }}</div>
  {% endfor %}
{% endif %}
    <form method="POST" action="{% url 'counselling_popup' %}" class="enquire_form">
  {% csrf_token %}

  <input type="text" name="name" placeholder="Your Name" required>
  <input type="email" name="email" placeholder="Your Email" required>
  <input type="text" name="phone" placeholder="Your Phone" required>
  <textarea name="message" placeholder="Your Message" rows="3" required></textarea>

  <button type="submit" class="submit_btn">Submit</button>
</form>

  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const openBtn = document.getElementById('openPopup');
    const closeBtn = document.getElementById('closePopup');
    const modal = document.getElementById('enquireModal');

    if(openBtn && closeBtn && modal){
      openBtn.addEventListener('click', function(e){
        e.preventDefault();
        modal.style.display = 'block';
      });

      closeBtn.addEventListener('click', function(){
        modal.style.display = 'none';
      });

      window.addEventListener('click', function(event){
        if(event.target == modal){
          modal.style.display = 'none';
        }
      });
    }
  });
</script>


  {% endblock %}

