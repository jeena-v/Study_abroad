{% extends 'study_abroad_app/base.html' %} {% load static %} {% block content %}
<style>
  .blog-img img {
    width: 100%;
    height: 200px; /* fixed height to keep all images uniform */
    object-fit: cover; /* crops and fits nicely */
    border-radius: 10px; /* optional, for rounded corners */
  }
</style>

<div style="height: 160px"></div>

<section class="blog-section">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <h3 class="mb-4">Search Results for "{{ query }}"</h3>
      </div>
    </div>

    {% if results %}
    <div class="row">
      {% for item in results %}
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="blog-card">
          <div class="blog-img">
            {% if item.type == 'blog' %} {% if item.image %}
            <img src="{{ item.image.url }}" alt="{{ item.title }}" />
            {% else %}
            <img
              src="{% static 'img/blog/default.jpg' %}"
              alt="Default Image"
            />
            {% endif %} {% elif item.type == 'country' %}
            <img
              src="{% static 'img/countries/default-country.jpg' %}"
              alt="{{ item.name }}"
            />
            {% elif item.type == 'service' %}
            <img
              src="{% static 'img/services/default-service.jpg' %}"
              alt="{{ item.name }}"
            />
            {% endif %}
          </div>
          <div class="blog-content">
            <div class="blog-meta">
              {% if item.type == 'blog' %}
              <span class="author"
                ><i class="fas fa-user-pen"></i> By {{ item.author }}</span
              ><br />
              <span class="date"
                ><i class="fas fa-calendar-alt"></i> {{ item.published_date
                }}</span
              >
              {% endif %}
            </div>
            <h3 class="blog-title">
              {% if item.type == 'blog' %} {{ item.title }} {% else %} {{
              item.name }} {% endif %}
            </h3>

            <a
              href="{% if item.type == 'blog' %}{% url 'blog_detail' item.slug %}{% elif item.type == 'country' %}{% url 'country_detail' item.slug %}{% elif item.type == 'service' %}{% url 'service_detail' item.slug %}{% endif %}"
              class="read-more"
            >
              Know More â†’
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="row">
      <div class="col-12 text-center">
        <p>No results found.</p>
      </div>
    </div>
    {% endif %}
  </div>
</section>
{% endblock %}
